10 REM BASIC-M6502.rs comprehensive demo (v1.0)
15 PRINT "DEMO START"

20 REM Variables and expressions
30 A=1.5: B=2: C$="HI"
40 PRINT "EXPR:", A+B*2, " SUM=", A+B
45 PRINT "LEN/CHR$/ASC:", LEN(C$), CHR$(65), ASC("A")
50 PRINT "VAL/STR$:", VAL("  3.14 "), STR$(2), STR$(2.5)
55 PRINT "INSTR/SPACE$:", INSTR("HELLO","L"), "[";SPACE$(5);"]"

60 REM Math and random
65 PRINT "MATH:", ABS(-3), INT(3.9), SGN(-1), SQR(4), EXP(1), LOG(1)
66 PRINT "TRIG:", SIN(0), COS(0), TAN(0), ATN(1)
67 PRINT "RND:", RND(1)

70 REM PRINT formatting (zones/semicolon/TAB)
71 PRINT "TAB->"; TAB(20); "COL20", 123, 456
72 PRINT 1,2,3;

73 REM POS function - cursor position tracking
74 PRINT "POS TEST:";
75 PRINT " COL="; POS(0);
76 PRINT "A"; " COL="; POS(0);
77 PRINT "BC"; " COL="; POS(0)
78 PRINT "NEW LINE COL="; POS(0)
79 REM POS with TAB and SPC
80 PRINT "START"; TAB(10); "POS="; POS(0)
81 PRINT "SPC(5)"; SPC(5); "POS="; POS(0)

82 REM Arrays: numeric and string
83 DIM A(10), N$(3)
84 FOR I=1 TO 10: A(I)=I: NEXT I
85 N$(1)="FOO": N$(2)="BAR": N$(3)="BAZ"
86 PRINT "A(5)=", A(5), " N$(2)=", N$(2)

90 REM IF/THEN (branch and inline)
91 IF A(5)-5 THEN 200
92 IF 1 THEN PRINT "INLINE THEN OK": GO TO 100

100 REM FOR/NEXT with STEP (single line body)
101 FOR J=10 TO 6 STEP -2: PRINT "J=";J: NEXT J

110 REM GOSUB/RETURN
111 GOSUB 500
112 PRINT "BACK FROM SUB"

120 REM ON ... GOSUB
121 X=2
122 ON X GOSUB 510,520,530
123 PRINT "AFTER ON GOSUB"

130 REM DATA/READ/RESTORE
131 DATA 7,8,"OK"
132 READ D, E, S$
133 PRINT "READ:", D, E, S$
134 RESTORE
135 READ D
136 PRINT "RESTORED:", D

137 REM User-defined functions (DEF FN)
138 DEF FN SQUARE(X) = X * X
139 DEF FN DOUBLE(Y) = Y + Y
140 PRINT "FN SQUARE(5)="; FN SQUARE(5)
141 PRINT "FN DOUBLE(7)="; FN DOUBLE(7)
142 PRINT "FN SQUARE(3)+FN DOUBLE(2)="; FN SQUARE(3) + FN DOUBLE(2)
143 REM Function with global variables
144 GVAL=10
145 DEF FN ADDG(X) = X + GVAL
146 PRINT "FN ADDG(5)="; FN ADDG(5)
147 REM Function in expression
148 PRINT "RESULT="; FN SQUARE(FN DOUBLE(2))

149 REM INPUT (enter e.g. JOHN,18)
150 INPUT "NAME,AGE? "; N$, AGE
151 PRINT "INPUT:", N$, AGE

152 REM GET statement - single character input
153 REM Note: GET reads single char without waiting for Enter
154 REM GET CH$
155 REM PRINT "GET CHAR: ["; CH$; "]"

156 REM NULL statement - no operation
157 NULL
158 PRINT "AFTER NULL"
159 NULL: NULL: PRINT "MULTIPLE NULL OK"

160 REM STOP/CONT and END (run CONT after STOP to continue)
161 PRINT "A": STOP
162 REM After CONT, next line executes
163 PRINT "B"

164 END

200 REM Branch target from IF
201 PRINT "BRANCHED TO 200"
202 RETURN

500 REM Subroutine
501 PRINT "IN SUB": RETURN

510 REM SUB 1
511 PRINT "SUB1": RETURN
520 REM SUB 2
521 PRINT "SUB2": RETURN
530 REM SUB 3
531 PRINT "SUB3": RETURN
